---
slug: nano
title: nano入门指南
authors: [singi]
tags: [nano]
---

## `Nano` 核心快捷键速查表（分类整理）

按使用场景分类标注，「核心」为高频必记项，方便快速查阅：

分类|操作|标准快捷键|简写标识|核心说明
-|-|-|-|-
基础操作|保存文件（核心）|`Ctrl + O`|`^O`|回车确认保存（直接回车保留原文件名）
基础操作|退出编辑器（核心）|`Ctrl + X`|`^X`|未保存时提示：`Y` = 保存，`N` = 放弃，`Ctrl+C` = 取消
基础操作|查看完整帮助|`Ctrl + G`|`^G`|调出 `Nano` 官方快捷键说明文档
编辑操作|撤销修改|`Alt + U`|`M-U`|恢复上一步操作
编辑操作|重做修改|`Alt + E`|`M-E`|取消撤销（恢复已撤销的修改）
编辑操作|激活文本选区|`Alt + A`|`M-A`|方向键可扩展 / 缩小选区范围
编辑操作|复制选中内容|`Alt + 6`|`M-6`|未选中时可复制光标整行
编辑操作|剪切 / 删除整行|`Ctrl + K`|`^K`|选中时剪切选区；未选中时删除光标所在行
编辑操作|粘贴内容|`Ctrl + U`|`^U`|粘贴剪切 / 复制的内容到光标位置
查找替换|查找文本（核心）|`Ctrl + W`|`^W`|输入关键词回车，支持模糊查找
查找替换|查找下一个匹配项|`Alt + W`|`M-W`|继续查找上一次的关键词
查找替换|替换文本（核心）|`Ctrl + \`|`^\`|支持单条替换（`Y`）/ 全部替换（`A`）/ 取消（`N`）
视图 / 跳转|显示 / 隐藏行号|`Alt + N`|`M-N`|编辑中快速切换行号显示状态
视图 / 跳转|跳转到指定行|`Ctrl + _`|`^_`|输入行号回车，快速定位代码报错行
视图 / 跳转|切换语法高亮|`Alt + Y`|`M-Y`|手动触发代码语法高亮（适配 PHP/JSON 等）
多文件编辑|切换上一个文件|`Alt + ,`|`M-,`|同时打开多个文件时循环切换
多文件编辑|切换下一个文件|`Alt + .`|`M-.`|同上，按顺序切换已打开文件

## ESC 替换规则（解决 Alt 键失效问题）

1. 替换背景

    `Nano` 中以 `Alt`（简写 `M-`）开头的快捷键（如 `Alt+A`、`Alt+6`），在以下场景易失效：

   - `WSL` 老旧终端 / `SSH` 客户端（如 `PuTTY`）：`Alt` 键被系统 / 客户端占用；
   - `macOS` 终端：默认将 `Alt` 作为 “选项键”，未映射为 `Nano` 所需的 `Meta` 键；
   - 容器 / 远程服务器：终端环境精简导致 `Alt` 键映射异常。

    此时可通过 `ESC` 键替代 `Alt` 键 执行操作，这是 `Nano` 官方兼容方案。

2. 核心替换规则

    规则|实操方法
    -|-
    基础替换逻辑|`Alt + X`（`M-X`）→ 替换为 `ESC + X`（先按 `ESC` 松开，再按 `X` 键）；部分终端支持 `ESC + X` 同时按下
    特殊兼容处理|若 `ESC + X` 仍失效，可长按 `ESC` 约 0.5 秒后松开，再按对应键
    无需替换的快捷键|`Ctrl + X`（`^X`）、`Ctrl + O`（`^O`）等 `Ctrl` 类快捷键，直接按即可，无需替换

3. 高频快捷键 `ESC` 替换示例

    原 `Alt` 快捷键|`ESC` 替换方式|对应操作
    -|-|-
    `Alt + A`（`M-A`）|`ESC + A`|激活文本选区
    `Alt + 6`（`M-6`）|`ESC + 6`|复制选中内容
    `Alt + U`（`M-U`）|`ESC + U`|撤销修改
    `Alt + W`（`M-W`）|`ESC + W`|查找下一个匹配项
    `Alt + N`（`M-N`）|`ESC + N`|显示 / 隐藏行号
    `Alt + Y`（`M-Y`）|`ESC + Y`|切换语法高亮

## 实用技巧

1. 避免意外退出丢失内容

   - 自动备份：编辑重要文件时，打开时加 `-B` 参数（如 `nano -B wp-config.php`），会生成 `.wp-config.php.bak` 备份文件；
   - 恢复未保存内容：若意外关闭终端，重新打开文件时，`Nano` 会提示 “是否恢复上次未保存的内容”，按 `Y` 即可恢复。

2. 中文乱码

```bash
nano --encoding utf-8 file.yml
```

## 实战场景示例

1. 快速修改 `Laravel` `.env` 配置

    ```bash
    nano -l ~/laravel-project/.env  # 显示行号打开
    # 1. 按 Ctrl+W 查找 `DB_DATABASE` → 修改数据库名
    # 2. 按 Ctrl+W 查找 `APP_KEY` → 粘贴生成的密钥
    # 3. Ctrl+O → 回车保存 → Ctrl+X 退出
    ```

2. 编辑 `WordPress` 插件代码

    ```bash
    nano -l ~/wordpress/wp-content/plugins/my-plugin/functions.php  # 显示行号
    # 1. 按 Ctrl+_ 输入行号 20 → 跳转到指定函数
    # 2. 编辑 PHP 代码（语法自动高亮）
    # 3. Alt+A 选中代码片段 → Alt+6 复制 → Ctrl+U 粘贴到其他位置
    # 4. Ctrl+O 保存 → Ctrl+X 退出
    ```

3. 修改 `Podman` 容器配置文件

    ```bash
    sudo nano /etc/podman/container.yml  # 管理员权限打开
    # 1. Ctrl+\ 替换 `image: nginx:latest` 为 `image: nginx:1.25`
    # 2. 按方向键调整端口映射配置
    # 3. Ctrl+O 保存 → Ctrl+X 退出
    ```
